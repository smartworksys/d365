var retrievedContact = null;

function getContactRecordById(contactId) {
    return new Promise(function(resolve, reject) {
        if (!contactId) {
            reject("Contact ID is required");
        }

        var query = `/contacts(${contactId})`;

        Xrm.WebApi.retrieveRecord("contact", contactId, "?$select=fullname,emailaddress1,telephone1")
            .then(function (result) {
                console.log("Contact retrieved successfully:", result);
                resolve(result);
            })
            .catch(function (error) {
                console.error("Error retrieving contact:", error.message);
                reject(error.message);
            });
    });
}

// Usage example:
var contactId = "00000000-0000-0000-0000-000000000000"; // Replace with the actual contact ID

getContactRecordById(contactId)
    .then(function(contact) {
        retrievedContact = contact; // Assign the retrieved contact to the variable
        console.log("Contact assigned to variable:", retrievedContact);
    })
    .catch(function(error) {
        console.error("Failed to retrieve contact:", error);
    });
