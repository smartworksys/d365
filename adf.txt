if (result.entities.length > 0) {
    const existingId = result.entities[0].nf1pbm_maturityinstructionid;
    const message = formatString(
      CONSTANTS.MESSAGES.DUPLICATE_RECORD,
      existingId
    );

    // 1) define the “View” action
    const viewAction = {
      actionLabel: "View",                                // button text
      eventHandler: function () {
        // 2) open the existing record in the main form
        Xrm.Navigation.openForm({
          entityName: CONSTANTS.ENTITY_NAMES.MATURITY_INSTRUCTIONS,
          entityId: existingId
        });
      }
    };

    // 3) build and show the global notification
    const notification = {
      type: 2,                   // app‐level notification bar :contentReference[oaicite:0]{index=0}
      level: 2,                  // error severity :contentReference[oaicite:1]{index=1}
      message: message,
      showCloseButton: true,
      action: viewAction
    };
    Xrm.App.addGlobalNotification(notification).then(
      function (notifId) {
        console.log("Notification displayed (ID): " + notifId);
      },
      function (err) {
        console.error("Failed to show notification:", err);
      }
    );

    makeFormReadOnly(executionContext);
    return [];
}
